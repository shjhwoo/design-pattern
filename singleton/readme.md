## 싱글턴 패턴이란

하나의 클래스가 단 하나의 인스턴스를 가지고 있도록 한다

대신에 그 인스턴스를 전역적으로 접근할 수 있게끔 한다

공유되는 리소스-디비나 파일 같은 자원에 대해서 접근 통제를 하기 위해서
이 패턴을 쓸 수 있다

일반적인 생성자 함수로는 항상 새로운 인스턴스를 만들기 떄문에 일반적인 방법으로는 구현이 안된다

싱글턴 패턴은 하나의 인스턴스를 전역적으로 접근하는 것을 허용하는 동시에,
함부로 변경을 하지 못하게끔 한다.

기본 생성자 함수를 프라이빗으로 만들어 둔다.
정적 생성 메서드를 컨스트럭터로 둔다.
내부적으로는 이 메서드가 프라이빗 컨스트럭터를 호출해서 객체를 생성하고 정적 필드에 할당하게끔 한다

그래서 그 메서드가 반복적으로 호출되어도 항상 같은 인스턴스를 리턴하게 된다.

모든 클라이언트에 대해 단 하나의 인스턴스만 제공해야 할 때 쓴다
예를 들어 하나의 DB 객체를 프로그램 내에 작성된 여러 도메인에서 써야 할 때..

전역 변수에 대해 엄격하세 통제해야 할 떄 사용한다

## 문제점

단일 책임 원칙을 위배한다
여러개의 스레드가 각각 인스턴스를 생성해서 중복이 발생하게끔 해서는 안된다

많은 테스트 프레임워크가 목 객체 생성 시 상속에 의존하기 떄문에,
단위테스트를 하기 어려울 수 있다

이를 목 하기 위한 방법을 생각해야 하거나, 테스트 코드를 쓰지 말아야 하거나, 싱글턴 패턴을 버리거나. 해야 한다.
